(function(b){var a={extend:function(f,e,c){for(var d in e){f[d]=c?e[d]:f.hasOwnProperty(d)?f[d]:e[d]}return f},getArgType:function(d,c){if(arguments.length<1){return -1}var f=typeof d;var e=typeof c;if(f==="string"&&e==="undefined"){return 0}if(f==="object"){return 2}if(f==="string"&&(e==="string"||e==="number")){return 1}return -1},setStyle:function(e,d,c){if(d.indexOf("-")!==-1){d=d.replace(/\-[a-z]/g,function(f){return f[1].toUpperCase()})}e.style[d]=c},getStyle:function(d,c){c=c.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return document.defaultView.getComputedStyle(d,"").getPropertyValue(c)},css:function(e,d,c){return a.attrHandler(e,d,c,a.getStyle,a.setStyle)},attr:function(e,d,c){return a.attrHandler(e,d,c,a.handler.attrRead,a.handler.attrWrite)},handler:{attrRead:function(d,c){return d.getAttribute(c)},attrWrite:function(e,d,c){e.setAttribute(d,c)}},attrHandler:function(h,d,l,g,f){var c=a.getArgType(d,l),m;if(c===0){m=(h.length>=0)?h[0]:h;return m?g(m,d):null}if(h.length>=0){for(var e=0;e<h.length;e++){m=h[e];if(c===2){for(var j in d){f(m,j,d[j])}}else{f(m,d,l)}}}else{if(c===2){for(var j in d){f(h,j,d[j])}}else{f(h,d,l)}}return h},valHooks:{select:{get:function(f){var c=[],d=f.options;for(var e=0;e<d.length;e++){if(d[e].selected){c.push(d[e].value)}}if(c.length==1){return c[0]}else{if(c.length==0){return null}else{return c}}},set:function(g,c){var d=g.options;var f=g.getAttribute("multiple")?true:false;for(var e=0;e<d.length;e++){var h=d[e];h.selected=false;if(f){if(WTOUCH.inArray(c,h.value)){h.selected=true}}else{if(c==h.value){h.selected=true;return}}}}}},dataset:function(d,c){if(d.dataset){return d.dataset[c]}else{return d.getAttribute("data-"+c)}},hasClass:function(e,c){var d=" "+c+" ";if((" "+e.className+" ").indexOf(d)!=-1){return true}return false},addClass:function(f,d){var g=d.split(" "),e;e=WTOUCH.trim(f.className);if(!f.className){f.className=d;return}e=" "+e+" ";for(var c=0;c<g.length;c++){if(e.indexOf(" "+g[c]+" ")==-1){e+=g[c]+" "}}f.className=WTOUCH.trim(e)},removeClass:function(e,c){var d=e.className;if(d){e.className=WTOUCH.trim(d.replace(c,"").replace(/[ ]+/g," "))}},toggleClass:function(d,c){if(a.hasClass(d,c)){a.removeClass(d,c)}else{a.addClass(d,c)}}};window.WTOUCH=window.$=WTOUCH=function(d,c){return new WTOUCH.fn.find(d,c)};WTOUCH._instance=function(c){if(c&&c.length){for(var d=0;d<c.length;d++){this[d]=c[d]}this.length=c.length}return this};WTOUCH._emptyArray=[];WTOUCH.getEmptyArray=function(){WTOUCH._emptyArray.length=0;return WTOUCH._emptyArray};WTOUCH.fn=WTOUCH.prototype={length:0,selector:"",find:function(f,e){var c=WTOUCH.getEmptyArray();if(!f&&!this.length){return new WTOUCH._instance()}if(f&&(f.nodeType||f===window)){c[0]=f;return new WTOUCH._instance(c)}if(!e&&this.length){var g;for(var d=0;d<this.length;d++){if(f){g=this[d].querySelectorAll(f)}else{g=this[d].childNodes}for(var d=0;d<g.length;d++){if(g[d].nodeType===1){c.push(g[d])}}}}else{e=e||document;if(typeof f==="string"){c=e.querySelectorAll(f)}}return new WTOUCH._instance(c)},children:function(c){if(this.length==0){return this}if(c){return this.find("* > "+c)}else{return this.find()}},parent:function(){if(this.length==0){return this}var c=WTOUCH.getEmptyArray();for(var d=0;d<this.length;d++){if(this[d].nodeType===1){c.push(this[d].parentNode)}}return new WTOUCH._instance(c)},each:function(d){for(var c=0;c<this.length;c++){if(d.call(this[c],c,this[c])===false){break}}return this},bind:function(c,e){for(var d=0;d<this.length;d++){this[d].addEventListener(c,e,false)}return this},unbind:function(c,e){for(var d=0;d<this.length;d++){this[d].removeEventListener(c,e,false)}return this}};WTOUCH._instance.prototype=WTOUCH.fn;WTOUCH.extend=WTOUCH.fn.extend=function(e){var d=e;if(typeof e==="function"){d=e.call(null,WTOUCH)}if(!d){return}for(var c in d){WTOUCH.fn[c]=d[c]}};WTOUCH.ready=function(c){if(document.readyState==="complete"||document.readyState==="loaded"||document.readyState==="interactive"){c.call(null);return}else{document.addEventListener("DOMContentLoaded",c,false)}};WTOUCH.extend({html:function(c){if(c===b){var e=this[0];return(e&&e.nodeType===1)?this[0].innerHTML:null}for(var d=0;d<this.length;d++){this[d].innerHTML=c}return this},text:function(c){if(c===b){return WTOUCH.decodeHTML(this.html(c))}this.html(WTOUCH.encodeHTML(c));return this},val:function(c){if(c===b){var f=this[0];if(!f){return null}var e=a.valHooks[f.nodeName.toLowerCase()];return e?e.get(f):f.value}for(var d=0;d<this.length;d++){var f=this[d];var e=a.valHooks[f.nodeName.toLowerCase()];if(e){e.set(f,c)}else{f.value=c}}return this},hasClass:function(c){for(var d=0;d<this.length;d++){if(a.hasClass(this[d],c)){return true}}return false},addClass:function(c){for(var d=0;d<this.length;d++){a.addClass(this[d],c)}return this},removeClass:function(c){for(var d=0;d<this.length;d++){a.removeClass(this[d],c)}return this},toggleClass:function(c){for(var d=0;d<this.length;d++){a.toggleClass(this[d],c)}return this},attr:function(d,c){return a.attr(this,d,c)},css:function(d,c){return a.css(this,d,c)},blur:function(){this[0].blur();return this},focus:function(){this[0].focus();return this},size:function(){return this.length},remove:function(){var d;for(var c=0;c<this.length;c++){d=this[c];if(d.parentNode){d.parentNode.removeChild(d)}}return this},append:function(f){if(f===b){return this}var e,d=f.nodeType;for(var c=0;c<this.length;c++){e=this[c];if(d){e.appendChild(f)}else{e.innerHTML+=f}}return this}});WTOUCH.extend({show:function(g){var f,e,d=[];g=g||"block";for(var c=0;c<this.length;c++){f=this[c];e=f.style;if(e.display==="none"){e.display=""}if(e.display===""&&a.css(f,"display")==="none"){d.push(f)}}for(var c=0;c<d.length;c++){d[c].style.display=g}return this},hide:function(){for(var c=0;c<this.length;c++){this[c].style.display="none"}return this},visibility:function(c){for(var d=0;d<this.length;d++){this[d].style.visibility=(c==true)?"inherit":"hidden"}return this}});WTOUCH.extend({dataset:function(c){return a.dataset(this[0],c)}});WTOUCH.encodeHTML=function(c){return c.replace?c.replace(/</g,"&lt;").replace(/>/g,"&gt;"):c};WTOUCH.decodeHTML=function(c){return c.replace?c.replace(/&lt;/g,"<").replace(/&gt;/g,">"):c};WTOUCH.inArray=function(e,c){if(!e.length){return e==c}for(var d=0;d<e.length;d++){if(e[d]==c){return true}}return false};WTOUCH.trim=function(c){if(!c){return""}if(c.trim){return c.trim()}else{return c.replace(/^[\s\t ]+|[\s\t ]+$/g,"")}};WTOUCH.parseJSON=function(c){if(typeof c!=="string"||!c){return null}if(window.JSON&&window.JSON.parse){try{return window.JSON.parse(c)}catch(d){return(new Function("return "+WTOUCH.trim(c)))()}}return(new Function("return "+WTOUCH.trim(c)))()};WTOUCH.stringify=function(h){if(window.JSON){return JSON.stringify(h)}var g=typeof(h);if(g!="object"||h===null){if(g=="string"){h='"'+h+'"'}return String(h)}else{var i,e,f=[],c=(h&&h.constructor==Array);var d=arguments.callee;for(i in h){e=h[i];g=typeof(e);if(h.hasOwnProperty(i)){if(g=="string"){e='"'+e+'"'}else{if(g=="object"&&e!==null){e=d(e)}}f.push((c?"":'"'+i+'":')+String(e))}}return(c?"[":"{")+String(f)+(c?"]":"}")}};WTOUCH.pMethod=a})();(function(){var a={processCount:0,settings:{url:"",type:"GET",async:true,timeout:0,cache:false,dataType:"html",data:null,start:null,end:null,complete:null,error:null,success:null,abort:null},accepts:{html:"text/html",json:"application/json, text/javascript"},converters:{"json":function(b){return WTOUCH.parseJSON(b)}},getRequest:function(d){var c=new XMLHttpRequest(),b=d.url;if(d.cache===false){if(b.indexOf("?")==-1){b+="?"+(new Date()).getTime()}else{b+="&"+(new Date()).getTime()}}c.open(d.type,b,d.async);if(d.type.toLowerCase()==="post"){c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}c.setRequestHeader("Accept",a.accepts[d.dataType]+", */*; q=0.01"||"*/*");return c},json2QueryString:function(c){if(c==null){return null}var e=[],d=typeof c,f;if(d==="string"){return c}for(var b in c){f=c[b];e.push(b+"="+(f instanceof Array?f.join(","):encodeURIComponent(f)))}return e.join("&")}};WTOUCH.ajaxSetup=function(b){$.pMethod.extend(a.settings,b,true)};WTOUCH.getJSON=function(b,c,d){return WTOUCH.get(b,c,d,"json")};WTOUCH.get=function(d,g,i,e){var c={"url":d},b=typeof i,f=typeof g,h=(b==="function")?i:((f==="function")?g:null),g=(f==="object"||f==="string")?g:null,e=(typeof e==="string")?e:((b==="string")?i:a.settings.dataType);c.data=g;c.dataType=e;c.success=h;return WTOUCH.ajax(c)};WTOUCH.ajax=function(c){c=$.pMethod.extend(c,a.settings);if(c.data){c.type="POST"}var d=a.getRequest(c),e,b=function(){if(d.readyState===4){if(e&&e>0){window.clearTimeout(e)}delete d;if((d.status>=200&&d.status<300)||d.status===0){if(c.success){var f=d.responseText,g=a.converters[c.dataType.toLowerCase()];if(g&&d.status!=204){f=g(f)}c.success.call(null,f)}}else{if(c.error){c.error.call(null,c,d.status,d.responseText)}}if(c.complete){c.complete.call(null,c)}a.processCount-=1;if(a.processCount==0){if(c.end){c.end.call(null,c)}}}};if(c.async){d.onreadystatechange=b;if(c.timeout>0){e=setTimeout(function(){window.clearTimeout(e);e=null;d.onreadystatechange=null;if(d.abort){d.abort()}delete d;if(c.abort){c.abort.call(null,c)}if(c.complete){c.complete.call(null,c)}a.processCount-=1;if(a.processCount==0){if(c.end){c.end.call(null,c)}}},c.timeout)}}a.processCount+=1;if(c.start){c.start.call(null,c)}d.send(a.json2QueryString(c.data));if(!c.async){b()}return this}})();(function(){WTOUCH.extend({animate:function(c,b,f,g){var h=typeof b,e=typeof f,j=(h==="number")?b:400,a=(h==="string")?b:((e==="string")?f:"linear");_callback=(h==="function")?b:((e==="function")?f:g);cssValue="all "+j+"ms "+a,count=this.length,callbacker=this,transitionEnd=function(){count--;if(count==0){for(var k=0;k<callbacker.length;k++){callbacker[k].style.removeProperty("-webkit-transition")}callbacker.unbind("webkitTransitionEnd",transitionEnd);if(_callback){_callback.call(callbacker)}}};for(var d=0;d<this.length;d++){this[d].style["-webkit-transition"]=cssValue}this.bind("webkitTransitionEnd",transitionEnd);this.css(c)}})})();(function(){WTOUCH.storage={_storage:localStorage||null,val:function(b,d){var a=WTOUCH.storage._storage;if(!a){return null}var c=$.pMethod.getArgType(b,d);if(c===0){return a.getItem(b)}else{if(c===1){a.setItem(b,d);return WTOUCH.storage}}},remove:function(d){var c=WTOUCH.storage._storage;if(!c){return null}if(typeof d==="string"){if(d==="*"){c.clear()}else{c.removeItem(d)}}else{if(d instanceof RegExp){for(var b=c.length-1;b>=0;b--){var a=c.key(b);if(d.test(a)){c.removeItem(a)}}}}return WTOUCH.storage}}})();(function(){var a={};WTOUCH.bindHashChange=function(c,b){a[c]=b};WTOUCH.bindOtherHashChange=function(b){a["__all__"]=b};WTOUCH.ready(function(){var c;function d(){var e=location.hash.match(/#([^\?]+)/);if(e){e=e[1]}if(a[e]){a[e].call(null,e)}else{if(a["__all__"]){a["__all__"].call(null,e)}}}function b(){if(location.hash!=c){d();c=location.hash}}if("onhashchange" in window){window.addEventListener("hashchange",d);d()}else{window.setInterval(b,200)}})})();